(()=>{"use strict";new(function(){function t(t,i){this.father=this.getParam(t),this.child=this.getParam(i);var e=this.father.getBoundingClientRect(),o=this.child.getBoundingClientRect();this.minLeft=this.child.offsetLeft-(o.left-e.left),this.maxLeft=e.left+e.width-(o.left-this.child.offsetWidth)-o.width,this.minTop=this.child.offsetTop-(o.top-e.top),this.maxTop=e.top+e.height-(o.top-this.child.offsetHeight)-o.height,this.checkStyle()}return t.prototype.getParam=function(t){if("string"==typeof t){var i=document.querySelector(t);if(null!==i)return i;throw new Error("找不到对应DOM：".concat(t))}if("object"==typeof(e=t)&&null!==e)return t;throw new Error("找不到对应DOM：".concat(t));var e},t.prototype.checkStyle=function(){var t;"absolute"!==(null===(t=getComputedStyle(this.child))||void 0===t?void 0:t.position)&&(this.child.style.position="absolute")},t.prototype.mousedownEvent=function(t){this.isMousedown=!0,this.orignX=t.offsetX,this.orignY=t.offsetY,console.log(getComputedStyle(this.child,null).top)},t.prototype.mousemoveEvent=function(t){if(this.isMousedown){var i=t.offsetX-this.orignX,e=t.offsetY-this.orignY,o=this.child.offsetLeft+i,s=this.child.offsetTop+e;o<this.minLeft?(o=this.minLeft,this.isMousedown=!1):o>this.maxLeft&&(o=this.maxLeft,this.isMousedown=!1),s<this.minTop?(s=this.minTop,this.isMousedown=!1):s>this.maxTop&&(s=this.maxTop,this.isMousedown=!1),this.child.style.left=o+"px",this.child.style.top=s+"px"}},t.prototype.mouseupEvent=function(t){this.isMousedown=!1,this.orignX=t.offsetX,this.orignY=t.offsetY},t.prototype.makeMove=function(){this.child.addEventListener("mousedown",this.mousedownEvent.bind(this)),this.child.addEventListener("mousemove",this.mousemoveEvent.bind(this)),this.child.addEventListener("mouseup",this.mouseupEvent.bind(this))},t}())(document.querySelector(".father"),document.querySelector(".child")).makeMove()})();